<head>
  <meta charset="utf-8">
  <title>Kotlin高级特性</title>

  <meta name="generator" content="Hugo 0.58.3" />

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <!-- ** Plugins Needed for the Project ** -->
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://hideric.github.io/plugins/bootstrap/bootstrap.min.css">
  <!-- themefy-icon -->
  <link rel="stylesheet" href="https://hideric.github.io/plugins/themify-icons/themify-icons.css">
  <!-- highlight -->
  <link rel="stylesheet" href="https://hideric.github.io/plugins/highlight/hybrid.css">
  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">

  <style>
  :root{
    --primary-color:#2f1f48;
    --secondary-color:#f9f9f9;
    --text-color:#636363;
    --text-color-dark:#242738;
    --white-color:#ffffff;
  }  
  </style>

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://hideric.github.io/css/style.min.css" integrity="" media="screen">

  <!-- jquiry -->
  <script src="https://hideric.github.io/plugins/jquery/jquery-1.12.4.js"></script>

  <!-- jquary ui -->
  <script src="https://hideric.github.io/plugins/jquery/jquery-ui.js"></script>

  <!--Favicon-->
  <link rel="icon" href="https://hideric.github.io/images/favicon.png" type="image/x-icon">

</head>


<!-- navigation -->
<header class="shadow-bottom sticky-top bg-white">
  <div class="container">
    <nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand" href="https://hideric.github.io/">Hideric</a>
  <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation"
    aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse text-center" id="navigation">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link text-dark" href="https://hideric.github.io/">Home</a>
      </li>
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          Back-End
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/java">Java</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/python">Python</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/go">Go</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/cpp">C&#43;&#43;</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          DB
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/mysql">Mysql</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/oracle">Oracle</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          Front-End
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/js">JavaScript</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/vue">Vue</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/react">React</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/rn">React Native</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          Mid-Ware
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/redis">Redis</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/nginx">Nginx</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          Mobile
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/android">Android</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/ios">IOS</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          OPS
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/k8s">kubernetes</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/docker">Docker</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/leetcode">Leetcode</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/linux">Linux</a>
          
        </div>
      </li>
      
      
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle text-dark" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          pages
        </a>
        <div class="dropdown-menu" >
          
          <a class="dropdown-item" href="https://hideric.github.io/faq">FAQ</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/contact">CONTACT</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/elements">ELEMENTS</a>
          
          <a class="dropdown-item" href="https://hideric.github.io/others">OTHERS</a>
          
        </div>
      </li>
      
      
    </ul>
    
    <ul class="list-inline text-center mb-0">
      
    </ul>
  </div>
</nav>
  </div>
</header>
<!-- /navigation -->


<section class="single pt-5 bg-gray">
  <div class="container">
    <div class="row">
      <div class="col-lg-3">
        <div class="p-4 bg-white sticky-top top-100">
            
            <nav class="sidebar-menu">
              <ul class="list-styled">
            <li class="parent d-block "><a href="https://hideric.github.io/android/">Android</a>
              <ul class="sub-menu">
            <li class=""><a href="https://hideric.github.io/android/kotlin/kotlin%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C/">Kotlin开发服务端应用</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/kotlin/kotlin%E7%9A%84%E6%89%A9%E5%B1%95%E5%BA%93/">Kotlin的扩展库</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/kotlin/kotlin%E8%AF%AD%E6%B3%95%E7%89%B9%E6%80%A7%E8%83%8C%E5%90%8E%E7%9A%84%E7%9F%A5%E8%AF%86/">Kotlin语法特性背后的知识</a>
            </li>
            <li class=" active "><a href="https://hideric.github.io/android/kotlin/kotlin%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/">Kotlin高级特性</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/kotlin/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/">类与对象</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/kotlin/%E5%87%BD%E6%95%B0%E4%B8%8Elambda%E9%97%AD%E5%8C%85/">函数与Lambda闭包</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/kotlin/kotlin%E5%9F%BA%E7%A1%80/">kotlin基础</a>
            </li>
            <li class=""><a href="https://hideric.github.io/android/tool/f-droidapps/">F-Droid Apps Recommendation</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/cpp/">C&#43;&#43;</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/cpp/cprimer/cprimer-%E5%AD%98%E5%82%A8%E7%B1%BB%E5%88%AB%E5%92%8C%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">CPrimer - 数组与指针</a>
            </li>
            <li class=""><a href="https://hideric.github.io/cpp/cprimer/cprimer-%E6%95%B0%E7%BB%84%E4%B8%8E%E6%8C%87%E9%92%88/">CPrimer - 数组与指针</a>
            </li>
            <li class=""><a href="https://hideric.github.io/cpp/cprimer/cprimer-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0/">CPrimer - 字符串和字符串函数</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/docker/">Docker</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/docker/docker%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">docker实用工具</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/go/">Go</a>
            </li>
            <li class=""><a href="https://hideric.github.io/ios/">IOS</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/">Java</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/java/basis/jdk1.8%E7%9A%84localdatetime/">jdk1.8的LocalDateTime</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/network/%E4%BD%BF%E7%94%A8dubbo%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E8%BF%87%E5%93%AA%E4%BA%9B%E5%9D%91/">QPS、TPS、PV、UV、GMV、IP、RPS</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/jvm/jvm%E7%AC%94%E8%AE%B0/">JVM笔记</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/http%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0/">HTTP断点续传</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/java-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8/">Java 垃圾收集器</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/java-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E5%A7%BF%E5%8A%BF/">Java 字符串拼接姿势</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/java-%E5%A6%82%E4%BD%95%E6%9B%B4%E4%BC%98%E9%9B%85%E7%9A%84%E5%A4%84%E7%90%86%E7%A9%BA%E5%80%BC/">Java-如何更优雅的处理空值</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/jvm/jvm-%E5%A0%86%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E5%90%8E%E5%85%B6%E4%BB%96%E7%BA%BF%E7%A8%8B%E6%98%AF%E5%90%A6%E5%8F%AF%E7%BB%A7%E7%BB%AD%E5%B7%A5%E4%BD%9C/">JVM 堆内存溢出后，其他线程是否可继续工作？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/mybatis/mybatis%E4%B8%ADlike-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E6%B3%A8%E6%84%8F%E7%82%B9/">Mybatis中Like 的使用方式以及一些注意点</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/mybatis/mybatis%E5%B1%85%E7%84%B6%E6%9C%89%E5%9D%91%E5%8D%83%E4%B8%87%E5%88%AB%E8%B8%A9/">Mybatis居然有坑，千万别踩！</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/spring/spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E7%9A%84%E5%9D%91/">Spring循环依赖的坑</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/spring/spring%E7%9A%84%E5%90%84%E7%A7%8D%E6%B3%A8%E8%A7%A3/">Spring的各种注解</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/%E4%BB%8E%E5%AE%9E%E8%B7%B5%E8%A7%92%E5%BA%A6%E9%87%8D%E6%96%B0%E7%90%86%E8%A7%A3bio%E5%92%8Cnio/">从实践角度重新理解BIO和NIO</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/%E5%85%B3%E4%BA%8E-git-%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83/">关于 Git 提交规范</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/jvm/%E6%B3%A8%E6%84%8Fcode-cache%E6%89%93%E6%BB%A1%E5%8F%AF%E5%AF%BC%E8%87%B4%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E9%99%8D%E4%BD%8E/">注意，Code Cache打满可导致应用性能降低</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/hashmap%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">HashMap源码分析</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/spring/spring-%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">Spring 容器启动源码解析</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/spring/spring-%E7%9A%84-beanutils-%E5%A1%AB%E5%9D%91%E8%AE%B0/">Spring 的 BeanUtils 填坑记</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/weakhashmap%E7%94%9F%E4%BA%86%E7%97%85%E7%9A%84-hashmap-/">WeakHashMap，生了病的 HashMap ？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/dubbo/%E4%BD%BF%E7%94%A8dubbo%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E8%BF%87%E5%93%AA%E4%BA%9B%E5%9D%91/">使用dubbo过程中遇到过哪些坑？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/%E4%B8%80%E4%B8%AAjava%E5%AF%B9%E8%B1%A1%E5%88%B0%E5%BA%95%E5%8D%A0%E7%94%A8%E5%A4%9A%E5%A4%A7%E5%86%85%E5%AD%98/">一个Java对象到底占用多大内存？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3logback%E5%90%97/">你真的了解logback吗？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/%E8%BF%99%E5%8F%AF%E8%83%BD%E6%98%AFgithub%E4%B8%8A%E6%9C%80%E5%8F%8B%E5%A5%BD%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E9%A1%B9%E7%9B%AE..../">这可能是Github上最友好的分布式即时通讯项目.....</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/java-8-stream-%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">Java 8 - Stream 集合操作快速上手</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/concurrency/stringbuilder-%E4%B8%BA%E4%BB%80%E4%B9%88%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8/">StringBuilder 为什么线程不安全？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/jvm/jvm%E4%BC%98%E5%8C%96%E4%B9%8B%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%86%E9%85%8D%E6%B6%88%E9%99%A4/">JVM优化之逃逸分析与分配消除</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/framework/security/shiro%E6%A1%86%E6%9E%B6-%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/">Shiro框架 - 用户权限管理</a>
            </li>
            <li class=""><a href="https://hideric.github.io/java/basis/concurrency/threadlocal%E9%9D%A2%E8%AF%95%E9%A2%98/">ThreadLocal面试题</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/js/">JavaScript</a>
            </li>
            <li class=""><a href="https://hideric.github.io/k8s/">Kubernets</a>
            </li>
            <li class=""><a href="https://hideric.github.io/leetcode/">Leetcode</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/leetcode/leetcode-5/">LeetCode #5 最长回文子字符串</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/linux/">Linux</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/">Mysql</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/mysql/mysql%E4%BA%8B%E5%8A%A1%E4%B8%8E%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/">MySQL事务与隔离级别</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98%E5%8F%8A%E5%8D%83%E4%B8%87%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/">Mysql面试题及千万级数据查询优化</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/mysql%E7%9A%84count%E8%AF%AD%E5%8F%A5/">MySQL的COUNT语句</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/mysql-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/">MySQL 性能优化思路</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/%E5%AE%98%E6%96%B9%E5%B7%A5%E5%85%B7mysql-router-%E9%AB%98%E5%8F%AF%E7%94%A8%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98/">官方工具｜MySQL Router 高可用原理与实战</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/mysql-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%968-%E7%A7%8D%E5%B8%B8%E8%A7%81-sql-%E9%94%99%E8%AF%AF%E7%94%A8%E6%B3%95/">MySQL 性能优化：8 种常见 SQL 错误用法！</a>
            </li>
            <li class=""><a href="https://hideric.github.io/mysql/index/null%E8%83%BD%E7%94%A8%E7%B4%A2%E5%BC%95/">MySQL中IS NULL、IS NOT NULL、!=不能用索引？</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/nginx/">Nginx</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/nginx/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5nginx%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE%E8%B6%85%E8%AF%A6%E7%BB%86/">后端实践：Nginx日志配置（超详细）</a>
            </li>
            <li class=""><a href="https://hideric.github.io/nginx/%E4%BD%BF%E7%94%A8nginx%E8%BF%9B%E8%A1%8C%E5%9B%9B%E5%B1%82%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">使用Nginx进行四层负载均衡</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/oracle/">Oracle</a>
            </li>
            <li class=""><a href="https://hideric.github.io/others/">OTHERS</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/others/term/qps%E6%9C%AF%E8%AF%AD/">秒懂 QPS、TPS、PV、UV、GMV、IP、RPS！</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/python/">Python</a>
            </li>
            <li class=""><a href="https://hideric.github.io/react/">React</a>
            </li>
            <li class=""><a href="https://hideric.github.io/rn/">React Native</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/">Redis</a>
              <ul class="">
            <li class=""><a href="https://hideric.github.io/redis/%E5%A6%82%E4%BD%95%E7%94%A8-redis-%E7%BB%9F%E8%AE%A1%E7%8B%AC%E7%AB%8B%E7%94%A8%E6%88%B7%E8%AE%BF%E9%97%AE%E9%87%8F/">如何用 Redis 统计独立用户访问量？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/redis-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8Fjava%E7%89%88/">Redis 分布式锁的正确实现方式（Java版）</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/redis-%E5%AE%9E%E7%8E%B0%E9%99%84%E8%BF%91%E7%9A%84%E4%BA%BA%E5%8A%9F%E8%83%BD/">Redis 实现“附近的人”功能</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/%E4%B8%BA%E4%BB%80%E4%B9%88rediscluster%E6%9C%8916384%E4%B8%AA%E6%A7%BD/">为什么RedisCluster有16384个槽?</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/%E5%AD%A6%E4%BC%9A%E8%BF%99%E5%87%A0%E4%B8%AAredis%E6%8A%80%E5%B7%A7%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%BF%AB%E5%A6%82%E9%97%AA%E7%94%B5/">学会这几个Redis技巧，让你的程序快如闪电</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/%E6%AF%94redis%E8%BF%98%E5%BF%AB5%E5%80%8D%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%B8%BA%E5%95%A5%E8%BF%99%E4%B9%88%E5%BF%AB/">比Redis还快5倍的中间件，为啥这么快？</a>
            </li>
            <li class=""><a href="https://hideric.github.io/redis/redis%E9%AB%98%E7%BA%A7%E5%AE%A2%E6%88%B7%E7%AB%AFlettuce%E8%AF%A6%E8%A7%A3/">Redis高级客户端Lettuce详解</a>
            </li></ul>
              
            </li>
            <li class=""><a href="https://hideric.github.io/vue/">Vue</a>
            </li>
            <li class=""><a href="https://hideric.github.io/contact/">Contact</a>
            </li>
            <li class=""><a href="https://hideric.github.io/elements/">Elements</a>
            </li>
            <li class=""><a href="https://hideric.github.io/faq/">Frequently Asked Questions</a>
            </li></ul>
            </nav>

            
        </div>
      </div>
      <div class="col-lg-9">
        <div class="p-5 bg-white">
            <h2>Kotlin高级特性</h2>
            

<h1 id="kotlin高级特性">Kotlin高级特性</h1>

<h4 id="1-解构">1.解构</h4>

<p>在Kotlin中允许将一个类进行拆解</p>

<pre><code class="language-kotlin">fun main() {
    val user = User(12, &quot;name&quot;)
    val (age, name) = user // 解构，将user对象拆解给一个(age, name)变量
    println(age)
    println(name)
}
class User(var age: Int, var name: String) {
    operator fun component1() = age // 解构赋值时调用的函数
    operator fun component2() = name
}
// operator：将一个函数标记为重载一个操作符或者实现一个约定
</code></pre>

<p><strong>解构更常用在遍历map的时候</strong></p>

<pre><code class="language-kotlin">val map = mapOf&lt;String, String&gt;(&quot;key&quot; to &quot;key&quot;, &quot;value&quot; to &quot;value&quot;)
for ((k, v) in map) {
		println(&quot;$k -- $v&quot;)
}
</code></pre>

<h4 id="2-循环与集合操作符">2.循环与集合操作符</h4>

<p><del>var count: Int</del>
<del>for (count = 0; count &lt; 10; count++){</del>
        <del>// &hellip;</del>
<del>}</del></p>

<pre><code class="language-kotlin">fun main() {
		for (i in 1..10) { // [1, 10]
        println(i)
    }
    for (i in 1 until 10) { // 函数重载运算符的写法，和..相同
        println(i)
    }
    for (i in 10 downTo 1) { // ..不能倒着写
        println(i)
    }
    for (i in 1..10 step 2) {
        println(i)
    }
    repeat(10) { // 高阶函数，传递一个闭包，执行10次，it表示当前循环次数
        println(it)
    }
}
</code></pre>

<p><strong>遍历集合</strong></p>

<pre><code class="language-kotlin">val list = arrayListOf&lt;String&gt;(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)
for (str in list) {
    println(str)
}
for ((index, str) in list.withIndex()) {
    println(&quot;第${index}个元素是$str&quot;)
}
</code></pre>

<h4 id="3-运算符重载">3.运算符重载</h4>

<p>RxJava中的特性在Kotlin都是原生支持</p>

<pre><code class="language-kotlin">val list = arrayListOf&lt;Char&gt;('a', 'b', 'c', 'd')
val a = list.map { it - '1' } // 转换为Int类型
    .filter { it &gt; 0 }
    .find { it &gt; 1 } // 只会返回符合Lambda闭包的第一个值
</code></pre>

<p>RxJava与Kotlin分别做集合转换运算符重载</p>

<pre><code class="language-kotlin">// RxJava
public class JavaRx {
    public static void main(String[] args) {
        final String[] a = new String[]{&quot;4&quot;, &quot;0&quot;, &quot;7&quot;, &quot;i&quot;, &quot;f&quot;, &quot;w&quot;, &quot;0&quot;, &quot;9&quot;};
        final Integer[] index = new Integer[]{5, 3, 9, 4, 8, 3, 1, 9, 2, 1, 7};

        Observable.just(index) // 将index作为数据源传递
                .flatMap(new Function&lt;Integer[], ObservableSource&lt;Integer&gt;&gt;() { // flatMap函数做一次形变
                    @Override
                    public ObservableSource&lt;Integer&gt; apply(Integer[] integers) throws Exception {
                        return Observable.fromArray(integers); // 将一系列集合数据源拆散成Integer返回
                    }
                })
                .filter(new Predicate&lt;Integer&gt;() { // 依次对int值进行过滤
                    @Override
                    public boolean test(Integer i) throws Exception {
                        return i &lt; a.length;
                    }
                })
                .map(new Function&lt;Integer, String&gt;() { // 将传入的类型转换为另一种类型输出
                    @Override
                    public String apply(Integer integer) throws Exception {
                        return a[integer];
                    }
                })
                .reduce(new BiFunction&lt;String, String, String&gt;() { // 合并操作
                    @Override
                    public String apply(String s, String s2) throws Exception {
                        return s + s2;
                    }
                })
                .subscribe(new Consumer&lt;String&gt;() { // 响应
                    @Override
                    public void accept(String s) throws Exception {
                        System.out.println(&quot;密码是: &quot; + s);
                    }
                });

    }

}
// kotlin
fun main() {
    val a = arrayOf(&quot;4&quot;, &quot;0&quot;, &quot;7&quot;, &quot;i&quot;, &quot;f&quot;, &quot;w&quot;, &quot;0&quot;, &quot;9&quot;)
    val index = arrayOf(5, 3, 9, 4, 8, 3, 1, 9, 2, 1, 7)

    index
        .filter {
            it &lt; a.size
        }
        .map {
            a[it]
        }
        .reduce { s, s1 -&gt;
            &quot;$s$s1&quot;
        }
        .also { // 响应事件
            println(&quot;密码是: $it&quot; )
        }
}
</code></pre>

<p>Kotlin的操作符可以直接操作，而不需要再经过flatmap函数转换</p>

<p><strong>Kotlin的所有操作符都是用inline扩展函数的，可以自定义操作符</strong></p>

<p><strong>Kotlin中的集合有两种形式，可变的（Mutiable）和不可变的</strong></p>

<h4 id="4-作用域函数">4.作用域函数</h4>

<p><strong>Kotlin中常用的作用域函数：Kotlin内置的可以对数据做变换的函数，与集合的操作符非常相似，但是集合操作符只能用于集合的一系列数据变化，而作用域函数可以用于所有对象</strong></p>

<pre><code class="language-kotlin">run {...}
with(T) {...}
let {...}
apply {...}
also {...}
</code></pre>

<pre><code class="language-kotlin">fun main(args: Array&lt;String&gt;) {
    val user = User(&quot;haha&quot;)

    // let与run都会返回闭包的执行结果，区别在于let有闭包参数，而run没有闭包参数
    val letResult = user.let { user: User -&gt; &quot;let::${user.javaClass}&quot; }
    // 只有一个参数时可以使用it替代
    // val letResult = user.let { &quot;let::${it.javaClass}&quot; }
    println(letResult)
    val runResult = user.run { &quot;run::${this.javaClass}&quot; }
    println(runResult)

    // also与apply都不返回闭包的执行结果，区别于also有闭包参数，而apply没有闭包参数
    user.also {
        println(&quot;also::${it.javaClass}&quot;)
    }
    user.apply {
        println(&quot;apply::${this.javaClass}&quot;)
    }

    // takeIf 的闭包返回一个判断结果，为false时，takeIf函数会返回空
    // takeUnless 与 takeIf 刚好相反，闭包的判断结果，为true时函数会返回空
    user.takeIf { it.name.length &gt; 0 }?.also { println(&quot;姓名为${it.name}&quot;) } ?: println(&quot;姓名为空&quot;)
    user.takeUnless { it.name.length &gt; 0 }?.also { println(&quot;姓名为空&quot;) } ?: println(&quot;姓名为${user.name}&quot;)

    // 重复执行当前闭包
    repeat(5) {
        println(user.name)
        print(it)
    }

    // with比较特殊，不是以扩展方法的形式存在的，而是一个顶级函数
    // 多用于android view的操作
    with(user) {
        this.name = &quot;with&quot;
    }
    // 等同于user.apply{ this.name = &quot;with&quot; }
}
</code></pre>

<p><strong>作用域函数其实和集合操作符的原理是一致的，都是以扩展函数或者类似扩展函数形式</strong></p>

<pre><code class="language-kotlin">public inline fun &lt;T&gt; Array&lt;out T&gt;.forEach(action: (T) -&gt; Unit): Unit {
    for (element in this) action(element)
}

inline fun &lt;T, E&gt; Iterable&lt;T&gt;.convert(action: (T) -&gt; E): MutableList&lt;E&gt; {
    val list: MutableList&lt;E&gt; = mutableListOf()
    for (item in this) list.add(action(item))
    return list
}
</code></pre>

<h4 id="5-中缀表达式">5.中缀表达式</h4>

<pre><code class="language-kotlin">fun main(args: Array&lt;String&gt;) {
    for (i in 1..100 step 20) { // ..就是运算符重载，step就是中缀表达式
        print(&quot;$i &quot;)
    }
}
</code></pre>

<p><strong>运算符重载和中缀表达式本质都是函数</strong></p>

<p><strong>通过operator关键字表示运算符重载</strong></p>

<p><strong>Kotlin中总共运算符最多也只有120多个，当运算符不够时使用中缀表达式扩展</strong></p>

<p><strong>infix关键字修饰中缀函数</strong></p>

<pre><code class="language-kotlin">sealed class CompareResult { // 定义密闭类
    object LESS : CompareResult() {
        override fun toString(): String {
            return &quot;小于&quot;
        }
    }
    object MORE : CompareResult() {
        override fun toString(): String {
            return &quot;大于&quot;
        }
    }
    object EQUAL : CompareResult() {
        override fun toString(): String {
            return &quot;等于&quot;
        }
    }
}
// 定义中缀函数
infix fun Int.vs(num: Int): CompareResult =
    if (this - num &lt; 0) {
        CompareResult.LESS
    } else if (this - num &gt; 0) {
        CompareResult.MORE
    } else {
        CompareResult.EQUAL
    }

fun main(args: Array&lt;String&gt;) {
    println(5 vs 6)
  	// println(5.vs(6)) // 这种调用形式也可以
}
</code></pre>

<p><strong>一个函数只有用于两个角色类似的对象时才将其声明为中缀函数。</strong></p>

<p>推荐示例：and 、to、zip</p>

<p><strong>如果一个方法会改动其接收者，那么不要声明为中缀形式</strong></p>

<p>反例：add</p>

<h4 id="6-dsl-重点">6.DSL（重点）</h4>

<h5 id="kotlin的反引号">Kotlin的反引号（`）</h5>

<ol>
<li>Kotlin中、可以用反引号解决关键字冲突的问题</li>

<li><p>将一个不合法的字符变成合法的</p>

<pre><code class="language-kotlin">fun `1234`() {
println(&quot;test1&quot;)
}
fun ` `() {
println(&quot;test2&quot;)
}
fun `  `() {
println(&quot;test3&quot;)
}
fun main() {
`1234`()
` `()
`  `()
}
</code></pre></li>
</ol>

<p><strong>反引号使用场景：kotlin中有internal关键字，可以使类只被当前模块调用，而java没有，当需要类只能被kotlin访问时，可以使用反引号，java访问不到特殊字符（不推荐使用）</strong></p>

<pre><code class="language-java">public class JavaQuote {
    public void a() {
        `1234`() // 不合法
    }
}
</code></pre>

<h5 id="kotlin中如何比较对象">Kotlin中如何比较对象</h5>

<pre><code class="language-kotlin">a == b		--		a.equals(b)
a === b		--		a == b
kotlin					java
</code></pre>

<h5 id="类型链接">类型链接</h5>

<p><strong>类似C/C++中的define，将一个类映射到另一个类上，区别是define是宏定义，会在编译时转换为另一个类，kotlin的typealias这两个类其实是完全一致的</strong></p>

<pre><code class="language-kotlin">public typealias A = File
fun main() {
		val a: File = A(&quot;&quot;)
}
</code></pre>

<p><strong>Kotlin中非常多的集合类都是通过typealias映射过来的，用于跨平台</strong></p>

<h5 id="dsl-domain-specific-language-领域专用语言">DSL:Domain Specific Language：领域专用语言</h5>

<pre><code class="language-properties"># 外部DSL：除了自身之外不会再依赖其他语言，如JSON、XML、CSS、Makefile
# 内部DSL：除了自身之外还依赖其他语言：如Anko、Kolley、build.gradle
</code></pre>

<p><strong>DSL优点</strong></p>

<ol>
<li>提高开发效率</li>
<li>减小沟通成本</li>
</ol>

<p><strong>DSL缺点</strong></p>

<ol>
<li><p>好的DSL很难设计</p>

<pre><code class="language-groovy">buildscript {
		ext.kotlin_version = '1.2.31'
		repositories {
				mavenCentral()
		}
		dependencies {
				classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;
		}
}
</code></pre></li>
</ol>

            <p class="post-meta border-bottom pb-3 mb-0">Updated on 02 Dec 2019</p><nav class="pagination mt-3"><a class="nav nav-prev" href="https://hideric.github.io/android/kotlin/kotlin%E8%AF%AD%E6%B3%95%E7%89%B9%E6%80%A7%E8%83%8C%E5%90%8E%E7%9A%84%E7%9F%A5%E8%AF%86/" title="Kotlin语法特性背后的知识"><i class="ti-arrow-left mr-2"></i>Kotlin语法特性背后的知识</a>
            <a class="nav nav-next" href="https://hideric.github.io/android/kotlin/%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/" title="类与对象">类与对象<i class="ti-arrow-right ml-2"></i></a>
            </nav></div>
      </div>
    </div>
  </div>
</section>


<!-- footer -->
<footer class="section bg-gray pb-0">
  <div class="container">
    <div class="row">
      <div class="col-md-8 text-md-left text-center">
        <p>The Hugo Documents are copyright © gethugothemes 2018.</p> 
      </div>
      <div class="col-md-4 text-md-right text-center">
        <ul class="list-inline mb-3">
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-facebook"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-twitter-alt"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-vimeo-alt"></i></a></li>
          
          <li class="list-inline-item"><a class="text-color d-inline-block p-2" href="#"><i class="ti-instagram"></i></a></li>
          
        </ul>
      </div>
    </div>
  </div>
</footer>
<!-- /footer -->

<!-- Bootstrap JS -->
<script src="https://hideric.github.io/plugins/bootstrap/bootstrap.min.js"></script>
<!-- highlight -->
<script src="https://hideric.github.io/plugins/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Main Script -->

<script src="https://hideric.github.io/js/script.min.js"></script>